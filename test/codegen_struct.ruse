// exit 42

struct S {
    a: int
    b: int
    c: int
    d: int
    e: int
}

func return_by_value() -> S {
    return S {.a = 3, .b = 4}
}

func main() -> int {
    let s = S {.a = 3, .b = 4}
    if s.a + s.b != 7 {
        return 1
    }

    let retval = return_by_value()
    if retval.a + retval.b != 7 {
        return 1
    }

    if return_by_value().a + return_by_value().b != 7 {
        return 1
    }

    return 42
}
